/*!
 * Jarallax v2.1.3 (https://github.com/nk-o/jarallax)
 * Copyright 2022 nK <https://nkdev.info>
 * Licensed under MIT (https://github.com/nk-o/jarallax/blob/master/LICENSE)
 */!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a="undefined"==typeof globalThis?a||self:globalThis).jarallax=b()}(this,function(){"use strict";function j(a){"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a,{capture:!0,once:!0,passive:!0})}function e(){a=m.innerWidth||document.documentElement.clientWidth,n?(!t&&document.body&&(t=document.createElement("div"),t.style.cssText="position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;",document.body.appendChild(t)),o=(t?t.clientHeight:0)||m.innerHeight||document.documentElement.clientHeight):o=m.innerHeight||document.documentElement.clientHeight}function k(){return{width:a,height:o}}function c(){if(!v.length)return;const{width:b,height:d}=k();v.forEach((c,e)=>{const{instance:f,oldData:g}=c;if(f.isVisible()){const a=f.$item.getBoundingClientRect(),h={width:a.width,height:a.height,top:a.top,bottom:a.bottom,wndW:b,wndH:d},i=!g||g.wndW!==h.wndW||g.wndH!==h.wndH||g.width!==h.width||g.height!==h.height,j=i||!g||g.top!==h.top||g.bottom!==h.bottom;v[e].oldData=h,i&&f.onResize(),j&&f.onScroll()}}),m.requestAnimationFrame(c)}let d="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window;var m=d,q={type:"scroll",speed:.5,containerClass:"jarallax-container",imgSrc:null,imgElement:".jarallax-img",imgSize:"cover",imgPosition:"50% 50%",imgRepeat:"no-repeat",keepImg:!1,elementInViewport:null,zIndex:-100,disableParallax:!1,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null,videoClass:"jarallax-video",videoSrc:null,videoStartTime:0,videoEndTime:0,videoVolume:0,videoLoop:!0,videoPlayOnlyVisible:!0,videoLazyLoading:!0,disableVideo:!1,onVideoInsert:null,onVideoWorkerInit:null};const{navigator:i}=m,n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i.userAgent);let a,o,t;e(),m.addEventListener("resize",e),m.addEventListener("orientationchange",e),m.addEventListener("load",e),j(()=>{e()});const v=[],p=new m.IntersectionObserver(a=>{a.forEach(a=>{a.target.jarallax.isElementInViewport=a.isIntersecting})},{rootMargin:"50px"}),{navigator:g}=m;let u=0;class h{constructor(b,c){const d=this;d.instanceID=u,u+=1,d.$item=b,d.defaults={...q};const f=d.$item.dataset||{},h={};if(Object.keys(f).forEach(a=>{const b=a.substr(0,1).toLowerCase()+a.substr(1);b&&void 0!==d.defaults[b]&&(h[b]=f[a])}),d.options=d.extend({},d.defaults,h,c),d.pureOptions=d.extend({},d.options),Object.keys(d.options).forEach(a=>{"true"===d.options[a]?d.options[a]=!0:"false"===d.options[a]&&(d.options[a]=!1)}),d.options.speed=Math.min(2,Math.max(-1,parseFloat(d.options.speed))),"string"==typeof d.options.disableParallax&&(d.options.disableParallax=new RegExp(d.options.disableParallax)),d.options.disableParallax instanceof RegExp){const a=d.options.disableParallax;d.options.disableParallax=()=>a.test(g.userAgent)}if("function"!=typeof d.options.disableParallax&&(d.options.disableParallax=()=>!1),"string"==typeof d.options.disableVideo&&(d.options.disableVideo=new RegExp(d.options.disableVideo)),d.options.disableVideo instanceof RegExp){const a=d.options.disableVideo;d.options.disableVideo=()=>a.test(g.userAgent)}"function"!=typeof d.options.disableVideo&&(d.options.disableVideo=()=>!1);let a=d.options.elementInViewport;a&&"object"==typeof a&&void 0!==a.length&&([a]=a),a instanceof Element||(a=null),d.options.elementInViewport=a,d.image={src:d.options.imgSrc||null,$container:null,useImgTag:!1,position:"fixed"},d.initImg()&&d.canInitParallax()&&d.init()}css(a,b){return function(a,b){return"string"==typeof b?m.getComputedStyle(a).getPropertyValue(b):(Object.keys(b).forEach(c=>{a.style[c]=b[c]}),a)}(a,b)}extend(a,...b){return function(a,...b){return a=a||{},Object.keys(b).forEach(c=>{b[c]&&Object.keys(b[c]).forEach(d=>{a[d]=b[c][d]})}),a}(a,...b)}getWindowData(){const{width:a,height:b}=k();return{width:a,height:b,y:document.documentElement.scrollTop}}initImg(){const a=this;let b=a.options.imgElement;return b&&"string"==typeof b&&(b=a.$item.querySelector(b)),b instanceof Element||(a.options.imgSrc?(b=new Image,b.src=a.options.imgSrc):b=null),b&&(a.options.keepImg?a.image.$item=b.cloneNode(!0):(a.image.$item=b,a.image.$itemParent=b.parentNode),a.image.useImgTag=!0),!!a.image.$item||(null===a.image.src&&(a.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a.image.bgImage=a.css(a.$item,"background-image")),a.image.bgImage&&"none"!==a.image.bgImage)}canInitParallax(){return!this.options.disableParallax()}init(){const a=this,b={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"};let d={pointerEvents:"none",transformStyle:"preserve-3d",backfaceVisibility:"hidden"};if(!a.options.keepImg){const b=a.$item.getAttribute("style");if(b&&a.$item.setAttribute("data-jarallax-original-styles",b),a.image.useImgTag){const b=a.image.$item.getAttribute("style");b&&a.image.$item.setAttribute("data-jarallax-original-styles",b)}}if("static"===a.css(a.$item,"position")&&a.css(a.$item,{position:"relative"}),"auto"===a.css(a.$item,"z-index")&&a.css(a.$item,{zIndex:0}),a.image.$container=document.createElement("div"),a.css(a.image.$container,b),a.css(a.image.$container,{"z-index":a.options.zIndex}),"fixed"===this.image.position&&a.css(a.image.$container,{"-webkit-clip-path":"polygon(0 0, 100% 0, 100% 100%, 0 100%)","clip-path":"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}),a.image.$container.setAttribute("id",`jarallax-container-${a.instanceID}`),a.options.containerClass&&a.image.$container.setAttribute("class",a.options.containerClass),a.$item.appendChild(a.image.$container),a.image.useImgTag?d=a.extend({"object-fit":a.options.imgSize,"object-position":a.options.imgPosition,"max-width":"none"},b,d):(a.image.$item=document.createElement("div"),a.image.src&&(d=a.extend({"background-position":a.options.imgPosition,"background-size":a.options.imgSize,"background-repeat":a.options.imgRepeat,"background-image":a.image.bgImage||`url("${a.image.src}")`},b,d))),"opacity"!==a.options.type&&"scale"!==a.options.type&&"scale-opacity"!==a.options.type&&1!==a.options.speed||(a.image.position="absolute"),"fixed"===a.image.position){const b=function(a){const b=[];for(;null!==a.parentElement;)1===(a=a.parentElement).nodeType&&b.push(a);return b}(a.$item).filter(a=>{const b=m.getComputedStyle(a),c=b["-webkit-transform"]||b["-moz-transform"]||b.transform;return c&&"none"!==c||/(auto|scroll)/.test(b.overflow+b["overflow-y"]+b["overflow-x"])});a.image.position=b.length?"absolute":"fixed"}var e;d.position=a.image.position,a.css(a.image.$item,d),a.image.$container.appendChild(a.image.$item),a.onResize(),a.onScroll(!0),a.options.onInit&&a.options.onInit.call(a),"none"!==a.css(a.$item,"background-image")&&a.css(a.$item,{"background-image":"none"}),e=a,v.push({instance:e}),1===v.length&&m.requestAnimationFrame(c),p.observe(e.options.elementInViewport||e.$item)}destroy(){const a=this;var b;b=a,v.forEach((a,c)=>{a.instance.instanceID===b.instanceID&&v.splice(c,1)}),p.unobserve(b.options.elementInViewport||b.$item);const c=a.$item.getAttribute("data-jarallax-original-styles");if(a.$item.removeAttribute("data-jarallax-original-styles"),c?a.$item.setAttribute("style",c):a.$item.removeAttribute("style"),a.image.useImgTag){const b=a.image.$item.getAttribute("data-jarallax-original-styles");a.image.$item.removeAttribute("data-jarallax-original-styles"),b?a.image.$item.setAttribute("style",c):a.image.$item.removeAttribute("style"),a.image.$itemParent&&a.image.$itemParent.appendChild(a.image.$item)}a.image.$container&&a.image.$container.parentNode.removeChild(a.image.$container),a.options.onDestroy&&a.options.onDestroy.call(a),delete a.$item.jarallax}coverImage(){const b=this,{height:c}=k(),d=b.image.$container.getBoundingClientRect(),e=d.height,{speed:f}=b.options,g="scroll"===b.options.type||"scroll-opacity"===b.options.type;let a=0,h=e,i=0;return g&&(0>f?(a=f*Math.max(e,c),c<e&&(a-=f*(e-c))):a=f*(e+c),1<f?h=Math.abs(a-c):0>f?h=a/f+Math.abs(a):h+=(c-e)*(1-f),a/=2),b.parallaxScrollDistance=a,i=g?(c-h)/2:(e-h)/2,b.css(b.image.$item,{height:`${h}px`,marginTop:`${i}px`,left:"fixed"===b.image.position?`${d.left}px`:"0",width:`${d.width}px`}),b.options.onCoverImage&&b.options.onCoverImage.call(b),{image:{height:h,marginTop:i},container:d}}isVisible(){return this.isElementInViewport||!1}onScroll(b){const h=this;if(!b&&!h.isVisible())return;const{height:e}=k(),i=h.$item.getBoundingClientRect(),j=i.top,m=i.height,a={},n=Math.max(0,j),l=Math.max(0,m+j),o=Math.max(0,-j),c=Math.max(0,j+m-e),p=Math.max(0,m-(j+m-e)),d=Math.max(0,-j+e-m),g=1-2*((e-j)/(e+m));let q=1;if(m<e?q=1-(o||c)/m:l<=e?q=l/e:p<=e&&(q=p/e),"opacity"!==h.options.type&&"scale-opacity"!==h.options.type&&"scroll-opacity"!==h.options.type||(a.transform="translate3d(0,0,0)",a.opacity=q),"scale"===h.options.type||"scale-opacity"===h.options.type){let b=1;0>h.options.speed?b-=h.options.speed*q:b+=h.options.speed*(1-q),a.transform=`scale(${b}) translate3d(0,0,0)`}if("scroll"===h.options.type||"scroll-opacity"===h.options.type){let b=h.parallaxScrollDistance*g;"absolute"===h.image.position&&(b-=j),a.transform=`translate3d(0,${b}px,0)`}h.css(h.image.$item,a),h.options.onScroll&&h.options.onScroll.call(h,{section:i,beforeTop:n,beforeTopEnd:l,afterTop:o,beforeBottom:c,beforeBottomEnd:p,afterBottom:d,visiblePercent:q,fromViewportCenter:g})}onResize(){this.coverImage()}}const w=function(b,c,...d){("object"==typeof HTMLElement?b instanceof HTMLElement:b&&"object"==typeof b&&null!==b&&1===b.nodeType&&"string"==typeof b.nodeName)&&(b=[b]);const f=b.length;for(let e,g=0;g<f;g+=1)if("object"==typeof c||void 0===c?b[g].jarallax||(b[g].jarallax=new h(b[g],c)):b[g].jarallax&&(e=b[g].jarallax[c].apply(b[g].jarallax,d)),void 0!==e)return e;return b};w.constructor=h;const b=m.jQuery;if(void 0!==b){const a=function(...a){Array.prototype.unshift.call(a,this);const b=w.apply(m,a);return"object"==typeof b?this:b};a.constructor=w.constructor;const c=b.fn.jarallax;b.fn.jarallax=a,b.fn.jarallax.noConflict=function(){return b.fn.jarallax=c,this}}return j(()=>{w(document.querySelectorAll("[data-jarallax]"))}),w});